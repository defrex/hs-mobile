function g(a){throw a;}var i=true,j=null,k=false;function aa(a){return function(){return this[a]}}var n,o=this;function ba(){}
function ca(a){var b=typeof a;if(b=="object")if(a){if(a instanceof Array||!(a instanceof Object)&&Object.prototype.toString.call(a)=="[object Array]"||typeof a.length=="number"&&typeof a.splice!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("splice"))return"array";if(!(a instanceof Object)&&(Object.prototype.toString.call(a)=="[object Function]"||typeof a.call!="undefined"&&typeof a.propertyIsEnumerable!="undefined"&&!a.propertyIsEnumerable("call")))return"function"}else return"null";
else if(b=="function"&&typeof a.call=="undefined")return"object";return b}function da(a){return ca(a)=="array"}function ea(a){var b=ca(a);return b=="array"||b=="object"&&typeof a.length=="number"}function s(a){return typeof a=="string"}function fa(a){return ca(a)=="function"}function ga(a){a=ca(a);return a=="object"||a=="array"||a=="function"}function ha(a){return a[ia]||(a[ia]=++ja)}var ia="closure_uid_"+Math.floor(Math.random()*2147483648).toString(36),ja=0;
function ka(a){return a.call.apply(a.fb,arguments)}function la(a,b){var c=b||o;if(arguments.length>2){var d=Array.prototype.slice.call(arguments,2);return function(){var e=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(e,d);return a.apply(c,e)}}else return function(){return a.apply(c,arguments)}}function ma(){ma=Function.prototype.fb&&Function.prototype.fb.toString().indexOf("native code")!=-1?ka:la;return ma.apply(j,arguments)}var na=Date.now||function(){return+new Date};
function oa(a,b){var c=b||{},d;for(d in c){var e=(""+c[d]).replace(/\$/g,"$$$$");a=a.replace(RegExp("\\{\\$"+d+"\\}","gi"),e)}return a}function t(a,b){function c(){}c.prototype=b.prototype;a.h=b.prototype;a.prototype=new c;a.prototype.constructor=a};function pa(a){this.stack=Error().stack||"";if(a)this.message=String(a)}t(pa,Error);pa.prototype.name="CustomError";function qa(a){for(var b=1;b<arguments.length;b++){var c=String(arguments[b]).replace(/\$/g,"$$$$");a=a.replace(/\%s/,c)}return a}function ra(a){return a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")}
function sa(a,b){if(b)return a.replace(ta,"&amp;").replace(ua,"&lt;").replace(va,"&gt;").replace(wa,"&quot;");else{if(!xa.test(a))return a;if(a.indexOf("&")!=-1)a=a.replace(ta,"&amp;");if(a.indexOf("<")!=-1)a=a.replace(ua,"&lt;");if(a.indexOf(">")!=-1)a=a.replace(va,"&gt;");if(a.indexOf('"')!=-1)a=a.replace(wa,"&quot;");return a}}var ta=/&/g,ua=/</g,va=/>/g,wa=/\"/g,xa=/[&<>\"]/;
function ya(a,b){for(var c=0,d=ra(String(a)).split("."),e=ra(String(b)).split("."),f=Math.max(d.length,e.length),h=0;c==0&&h<f;h++){var l=d[h]||"",m=e[h]||"",p=RegExp("(\\d*)(\\D*)","g"),H=RegExp("(\\d*)(\\D*)","g");do{var r=p.exec(l)||["","",""],q=H.exec(m)||["","",""];if(r[0].length==0&&q[0].length==0)break;c=za(r[1].length==0?0:parseInt(r[1],10),q[1].length==0?0:parseInt(q[1],10))||za(r[2].length==0,q[2].length==0)||za(r[2],q[2])}while(c==0)}return c}
function za(a,b){if(a<b)return-1;else if(a>b)return 1;return 0};function Aa(a,b){b.unshift(a);pa.call(this,qa.apply(j,b));b.shift();this.vc=a}t(Aa,pa);Aa.prototype.name="AssertionError";function Ba(a,b){if(!a){var c=Array.prototype.slice.call(arguments,2),d="Assertion failed";if(b){d+=": "+b;var e=c}g(new Aa(""+d,e||[]))}return a};var u=Array.prototype,Ca=u.indexOf?function(a,b,c){Ba(a.length!=j);return u.indexOf.call(a,b,c)}:function(a,b,c){c=c==j?0:c<0?Math.max(0,a.length+c):c;if(s(a)){if(!s(b)||b.length!=1)return-1;return a.indexOf(b,c)}for(c=c;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},Da=u.forEach?function(a,b,c){Ba(a.length!=j);u.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,e=s(a)?a.split(""):a,f=0;f<d;f++)f in e&&b.call(c,e[f],f,a)};
function Ea(a,b){var c=Ca(a,b),d;if(d=c>=0){Ba(a.length!=j);u.splice.call(a,c,1)}return d}function Fa(){return u.concat.apply(u,arguments)}function Ga(a){if(da(a))return Fa(a);else{for(var b=[],c=0,d=a.length;c<d;c++)b[c]=a[c];return b}}function Ha(a){Ba(a.length!=j);return u.splice.apply(a,Ia(arguments,1))}function Ia(a,b,c){Ba(a.length!=j);return arguments.length<=2?u.slice.call(a,b):u.slice.call(a,b,c)};var Ja,Ka,La,Ma,Na,Oa;function Pa(){return o.navigator?o.navigator.userAgent:j}function Qa(){return o.navigator}Na=Ma=La=Ka=Ja=k;var Ra;if(Ra=Pa()){var Sa=Qa();Ja=Ra.indexOf("Opera")==0;Ka=!Ja&&Ra.indexOf("MSIE")!=-1;Ma=(La=!Ja&&Ra.indexOf("WebKit")!=-1)&&Ra.indexOf("Mobile")!=-1;Na=!Ja&&!La&&Sa.product=="Gecko"}var Ta=Ja,v=Ka,Ua=Na,Va=La,Wa=Ma,Xa=Qa();Oa=(Xa&&Xa.platform||"").indexOf("Mac")!=-1;var Ya=!!Qa()&&(Qa().appVersion||"").indexOf("X11")!=-1,Za;
a:{var $a="",ab;if(Ta&&o.opera){var bb=o.opera.version;$a=typeof bb=="function"?bb():bb}else{if(Ua)ab=/rv\:([^\);]+)(\)|;)/;else if(v)ab=/MSIE\s+([^\);]+)(\)|;)/;else if(Va)ab=/WebKit\/(\S+)/;if(ab){var cb=ab.exec(Pa());$a=cb?cb[1]:""}}if(v){var db,eb=o.document;db=eb?eb.documentMode:undefined;if(db>parseFloat($a)){Za=String(db);break a}}Za=$a}var fb={};function w(a){return fb[a]||(fb[a]=ya(Za,a)>=0)};var gb,hb=!v||w("9"),ib=v&&!w("9");function jb(a){return(a=a.className)&&typeof a.split=="function"?a.split(/\s+/):[]}function kb(a){var b=jb(a),c;c=Ia(arguments,1);for(var d=0,e=0;e<c.length;e++)if(!(Ca(b,c[e])>=0)){b.push(c[e]);d++}c=d==c.length;a.className=b.join(" ");return c}function lb(a){var b=jb(a),c;c=Ia(arguments,1);for(var d=0,e=0;e<b.length;e++)if(Ca(c,b[e])>=0){Ha(b,e--,1);d++}c=d==c.length;a.className=b.join(" ");return c};function mb(a,b){this.x=a!==undefined?a:0;this.y=b!==undefined?b:0}mb.prototype.toString=function(){return"("+this.x+", "+this.y+")"};function x(a,b){this.width=a;this.height=b}x.prototype.toString=function(){return"("+this.width+" x "+this.height+")"};x.prototype.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};x.prototype.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};function nb(a,b,c){for(var d in a)b.call(c,a[d],d,a)}function ob(a){var b=0,c;for(c in a)b++;return b}function pb(a){var b=[],c=0,d;for(d in a)b[c++]=a[d];return b}function qb(a){var b=[],c=0,d;for(d in a)b[c++]=d;return b}function rb(a,b){var c;if(c=b in a)delete a[b];return c}var sb=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"];
function tb(a){for(var b,c,d=1;d<arguments.length;d++){c=arguments[d];for(b in c)a[b]=c[b];for(var e=0;e<sb.length;e++){b=sb[e];if(Object.prototype.hasOwnProperty.call(c,b))a[b]=c[b]}}};function y(a){return a?new ub(z(a)):gb||(gb=new ub)}
function vb(a,b,c,d){a=d||a;b=b&&b!="*"?b.toUpperCase():"";if(a.querySelectorAll&&a.querySelector&&(!Va||document.compatMode=="CSS1Compat"||w("528"))&&(b||c))return a.querySelectorAll(b+(c?"."+c:""));if(c&&a.getElementsByClassName){a=a.getElementsByClassName(c);if(b){d={};for(var e=0,f=0,h;h=a[f];f++)if(b==h.nodeName)d[e++]=h;d.length=e;return d}else return a}a=a.getElementsByTagName(b||"*");if(c){d={};for(f=e=0;h=a[f];f++){b=h.className;if(typeof b.split=="function"&&Ca(b.split(/\s+/),c)>=0)d[e++]=
h}d.length=e;return d}else return a}function wb(a,b){nb(b,function(c,d){if(d=="style")a.style.cssText=c;else if(d=="class")a.className=c;else if(d=="for")a.htmlFor=c;else if(d in xb)a.setAttribute(xb[d],c);else a[d]=c})}var xb={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",rowspan:"rowSpan",valign:"vAlign",height:"height",width:"width",usemap:"useMap",frameborder:"frameBorder",type:"type"};
function yb(a){var b=a.document;if(Va&&!w("500")&&!Wa){if(typeof a.innerHeight=="undefined")a=window;b=a.innerHeight;var c=a.document.documentElement.scrollHeight;if(a==a.top)if(c<b)b-=15;return new x(a.innerWidth,b)}a=b.compatMode=="CSS1Compat";if(Ta&&!w("9.50"))a=k;a=a?b.documentElement:b.body;return new x(a.clientWidth,a.clientHeight)}function zb(a){return a?a.parentWindow||a.defaultView:window}
function Ab(a,b,c,d){function e(h){if(h)b.appendChild(s(h)?a.createTextNode(h):h)}for(d=d;d<c.length;d++){var f=c[d];ea(f)&&!(ga(f)&&f.nodeType>0)?Da(Bb(f)?Ga(f):f,e):e(f)}}function Cb(a){return a&&a.parentNode?a.parentNode.removeChild(a):j}function z(a){return a.nodeType==9?a:a.ownerDocument||a.document}var Db={SCRIPT:1,STYLE:1,HEAD:1,IFRAME:1,OBJECT:1},Eb={IMG:" ",BR:"\n"};
function Fb(a){if(ib&&"innerText"in a)a=a.innerText.replace(/(\r\n|\r|\n)/g,"\n");else{var b=[];Gb(a,b,i);a=b.join("")}a=a.replace(/ \xAD /g," ").replace(/\xAD/g,"");v||(a=a.replace(/ +/g," "));if(a!=" ")a=a.replace(/^\s*/,"");return a}function Gb(a,b,c){if(!(a.nodeName in Db))if(a.nodeType==3)c?b.push(String(a.nodeValue).replace(/(\r\n|\r|\n)/g,"")):b.push(a.nodeValue);else if(a.nodeName in Eb)b.push(Eb[a.nodeName]);else for(a=a.firstChild;a;){Gb(a,b,c);a=a.nextSibling}}
function Bb(a){if(a&&typeof a.length=="number")if(ga(a))return typeof a.item=="function"||typeof a.item=="string";else if(fa(a))return typeof a.item=="function";return k}function ub(a){this.r=a||o.document||document}n=ub.prototype;n.n=y;function A(a){return a.r}n.b=function(a){return s(a)?this.r.getElementById(a):a};
n.g=function(){var a=this.r,b=arguments,c=b[0],d=b[1];if(!hb&&d&&(d.name||d.type)){c=["<",c];d.name&&c.push(' name="',sa(d.name),'"');if(d.type){c.push(' type="',sa(d.type),'"');var e={};tb(e,d);d=e;delete d.type}c.push(">");c=c.join("")}c=a.createElement(c);if(d)if(s(d))c.className=d;else da(d)?kb.apply(j,[c].concat(d)):wb(c,d);b.length>2&&Ab(a,c,b,2);return c};n.createElement=function(a){return this.r.createElement(a)};n.createTextNode=function(a){return this.r.createTextNode(a)};
function Hb(a){a=!Va&&a.r.compatMode=="CSS1Compat"?a.r.documentElement:a.r.body;return new mb(a.scrollLeft,a.scrollTop)}n.appendChild=function(a,b){a.appendChild(b)};n.append=function(a){Ab(z(a),a,arguments,1)};function Ib(){}var Jb="setDeobfuscateFunctionName".split("."),B=o;!(Jb[0]in B)&&B.execScript&&B.execScript("var "+Jb[0]);for(var Kb;Jb.length&&(Kb=Jb.shift());)if(!Jb.length&&Ib!==undefined)B[Kb]=Ib;else B=B[Kb]?B[Kb]:B[Kb]={};var Lb,Mb=function(){var a=[];window.onload=function(){for(var b=0;b<a.length;b++)a[b]()};return function(b){a.push(b)}}();var Nb={};function Ob(){}Ob.prototype=[];(function(){var a=k;Nb=function(){};Nb.extend=function(b){function c(){!a&&this.N&&this.N.apply(this,arguments)}var d=this.prototype;a=i;var e=new this;a=k;for(var f in b)e[f]=typeof b[f]=="function"&&typeof d[f]=="function"?function(h,l){return function(){var m=this.ma;this.ma=d[h];var p=l.apply(this,arguments);this.ma=m;return p}}(f,b[f]):b[f];c.prototype=e;c.constructor=c;c.extend=arguments.callee;return c}})();function Pb(){}function Qb(a){if(typeof a!="undefined"&&a.length)for(var b=0;b<a.length;b++)this.push(a[b])}t(Qb,Array);Qb.prototype.q=function(a,b){b=b||this;for(var c=this.length,d=0;d<c;d++)a.call(b,this.getItem(d))};Qb.prototype.getItem=function(a){return new this.Kb(this[a])};function Rb(){}n=Rb.prototype;n.Z=function(){g("unimplimented")};n.w=function(){g("unimplimented")};n.ja=function(){g("unimplimented")};n.Aa=function(){g("unimplimented")};n.clear=function(){g("unimplimented")};function Sb(){}t(Sb,Rb);n=Sb.prototype;n.Z=function(a){return this.w(a)!=j};n.w=function(a){return window.localStorage.getItem(a)};n.ja=function(a,b){window.localStorage.setItem(a,b)};n.Aa=function(a){window.localStorage.removeItem(a)};n.clear=function(){window.localStorage.clear()};function Tb(){this.W={}}t(Tb,Rb);n=Tb.prototype;n.w=function(a){return this.W[a]};n.ja=function(a,b){this.W[a]=b};n.Z=function(a){return typeof this.W[a]!="undefined"};n.Aa=function(a){delete this.W[a]};n.clear=function(){this.W={}};var C=function(){function a(){if(typeof c=="undefined")for(var d=0;d<b.length;d++)if(b[d].uc()){c=new b[d];break}return c}var b=[Sb,Tb],c;return{Z:function(d){return a().Z(d)},w:function(d){return a().w(d)},ja:function(d,e){return a().ja(d,e)},Aa:function(d){return a().Aa(d)},clear:function(){return a().clear()}}}();function Ub(a,b){if(typeof a=="undefined")g("no arguments passed to apiRequest");else if(typeof a=="string")a={path:a};else if(typeof a.path!="string")g("no path passed to apiRequest");if(typeof a.na=="undefined")a.na=i;a.method=a.method||"GET";a.method=a.method.toUpperCase();if(a.method=="GET"&&(typeof a.W=="undefined"||a.W)&&b&&C.Z(a.path))b(C.w(a.path));else{if(typeof a.body=="object")a.body=JSON.stringify(a.body);a.path=""+a.path;if(a.na&&!C.Z("token")){Lb.clear();document.location.hash="#/login/";
b&&b()}else{var c=new XMLHttpRequest;c.open(a.method,a.path);a.na&&c.setRequestHeader("Authenticate","Token auth="+C.w("token"));if(b)c.onreadystatechange=function(){if(c.readyState==4){var d;try{d=JSON.parse(c.responseText)}catch(e){d=c.responseText}b(d,c.status)}};c.send(a.body)}}};function Vb(a){this.bb=a.username;this.id=a.id;this.Qa=a.created;this.sc=a.follower;this.tc=a.following}t(Vb,Pb);function Wb(a,b,c){c=c||Vb;if(typeof a=="string")Ub("/users/"+a+"/",function(d,e){e==200?b.call(c,new Vb(d)):b.call(c)});else g("unimplimented")}function Xb(a,b,c){if(!a||!b)g("illegal arguments");Ub({path:"/users/"+a+"/",method:"PUT",body:{password:b},na:k},function(d,e){c&&c(d,e)})}
function Yb(a,b,c){if(!a||!b)g("illegal arguments");Ub({path:"/token/?username="+a+"&password="+b,na:k},function(d,e){if(e==200){C.ja("token",d);C.ja("username",ra(a.toLowerCase()));Wb(a,c)}else c&&c()})};var Zb,$b=!v||w("9"),ac=v&&!w("8");function cc(){}n=cc.prototype;n.Sa=k;n.Sb=aa("Sa");n.Pb=cc.prototype.Sb;n.l=function(){if(!this.Sa){this.Sa=i;this.m()}};n.m=function(){};function D(a,b){this.type=a;this.currentTarget=this.target=b}t(D,cc);n=D.prototype;n.m=function(){delete this.type;delete this.target;delete this.currentTarget};n.$=k;n.ta=i;n.stopPropagation=function(){this.$=i};n.preventDefault=function(){this.ta=k};function dc(a){a.preventDefault()};var ec=new Function("a","return a");function E(a,b){a&&this.N(a,b)}t(E,D);var fc=[1,4,2];n=E.prototype;n.target=j;n.relatedTarget=j;n.offsetX=0;n.offsetY=0;n.clientX=0;n.clientY=0;n.screenX=0;n.screenY=0;n.button=0;n.keyCode=0;n.charCode=0;n.ctrlKey=k;n.altKey=k;n.shiftKey=k;n.metaKey=k;n.ec=k;n.M=j;
n.N=function(a,b){var c=this.type=a.type;this.target=a.target||a.srcElement;this.currentTarget=b;var d=a.relatedTarget;if(d){if(Ua)try{ec(d.nodeName)}catch(e){d=j}}else if(c=="mouseover")d=a.fromElement;else if(c=="mouseout")d=a.toElement;this.relatedTarget=d;this.offsetX=a.offsetX!==undefined?a.offsetX:a.layerX;this.offsetY=a.offsetY!==undefined?a.offsetY:a.layerY;this.clientX=a.clientX!==undefined?a.clientX:a.pageX;this.clientY=a.clientY!==undefined?a.clientY:a.pageY;this.screenX=a.screenX||0;this.screenY=
a.screenY||0;this.button=a.button;this.keyCode=a.keyCode||0;this.charCode=a.charCode||(c=="keypress"?a.keyCode:0);this.ctrlKey=a.ctrlKey;this.altKey=a.altKey;this.shiftKey=a.shiftKey;this.metaKey=a.metaKey;this.ec=Oa?a.metaKey:a.ctrlKey;this.lc=a.lc;this.M=a;delete this.ta;delete this.$};n.stopPropagation=function(){E.h.stopPropagation.call(this);if(this.M.stopPropagation)this.M.stopPropagation();else this.M.cancelBubble=i};
n.preventDefault=function(){E.h.preventDefault.call(this);var a=this.M;if(a.preventDefault)a.preventDefault();else{a.returnValue=k;if(ac)try{if(a.ctrlKey||a.keyCode>=112&&a.keyCode<=123)a.keyCode=-1}catch(b){}}};n.m=function(){E.h.m.call(this);this.relatedTarget=this.currentTarget=this.target=this.M=j};function gc(){}var hc=0;n=gc.prototype;n.key=0;n.ka=k;n.hb=k;n.N=function(a,b,c,d,e,f){if(fa(a))this.tb=i;else if(a&&a.handleEvent&&fa(a.handleEvent))this.tb=k;else g(Error("Invalid listener argument"));this.ha=a;this.Db=b;this.src=c;this.type=d;this.capture=!!e;this.Fa=f;this.hb=k;this.key=++hc;this.ka=k};n.handleEvent=function(a){if(this.tb)return this.ha.call(this.Fa||this.src,a);return this.ha.handleEvent.call(this.ha,a)};function G(a,b){this.ub=b;this.Y=[];if(a>this.ub)g(Error("[goog.structs.SimplePool] Initial cannot be greater than max"));for(var c=0;c<a;c++)this.Y.push(this.L?this.L():{})}t(G,cc);G.prototype.L=j;G.prototype.kb=j;function ic(a){if(a.Y.length)return a.Y.pop();return a.L?a.L():{}}function jc(a,b){a.Y.length<a.ub?a.Y.push(b):kc(a,b)}function kc(a,b){if(a.kb)a.kb(b);else if(ga(b))if(fa(b.l))b.l();else for(var c in b)delete b[c]}
G.prototype.m=function(){G.h.m.call(this);for(var a=this.Y;a.length;)kc(this,a.pop());delete this.Y};var lc;var mc=(lc="ScriptEngine"in o&&o.ScriptEngine()=="JScript")?o.ScriptEngineMajorVersion()+"."+o.ScriptEngineMinorVersion()+"."+o.ScriptEngineBuildVersion():"0";var nc,oc,pc,qc,rc,sc,tc,uc,vc,wc,xc;
(function(){function a(){return{o:0,F:0}}function b(){return[]}function c(){function q(F){return h.call(q.src,q.key,F)}return q}function d(){return new gc}function e(){return new E}var f=lc&&!(ya(mc,"5.7")>=0),h;sc=function(q){h=q};if(f){nc=function(){return ic(l)};oc=function(q){jc(l,q)};pc=function(){return ic(m)};qc=function(q){jc(m,q)};rc=function(){return ic(p)};tc=function(){jc(p,c())};uc=function(){return ic(H)};vc=function(q){jc(H,q)};wc=function(){return ic(r)};xc=function(q){jc(r,q)};var l=
new G(0,600);l.L=a;var m=new G(0,600);m.L=b;var p=new G(0,600);p.L=c;var H=new G(0,600);H.L=d;var r=new G(0,600);r.L=e}else{nc=a;oc=ba;pc=b;qc=ba;rc=c;tc=ba;uc=d;vc=ba;wc=e;xc=ba}})();var yc={},I={},J={},zc={};
function K(a,b,c,d,e){if(b)if(da(b)){for(var f=0;f<b.length;f++)K(a,b[f],c,d,e);return j}else{d=!!d;var h=I;b in h||(h[b]=nc());h=h[b];if(!(d in h)){h[d]=nc();h.o++}h=h[d];var l=ha(a),m;h.F++;if(h[l]){m=h[l];for(f=0;f<m.length;f++){h=m[f];if(h.ha==c&&h.Fa==e){if(h.ka)break;return m[f].key}}}else{m=h[l]=pc();h.o++}f=rc();f.src=a;h=uc();h.N(c,f,a,b,d,e);c=h.key;f.key=c;m.push(h);yc[c]=h;J[l]||(J[l]=pc());J[l].push(h);if(a.addEventListener){if(a==o||!a.ib)a.addEventListener(b,f,d)}else a.attachEvent(Ac(b),
f);return c}else g(Error("Invalid event type"))}function Bc(a,b,c,d,e){if(da(b)){for(var f=0;f<b.length;f++)Bc(a,b[f],c,d,e);return j}d=!!d;a=Cc(a,b,d);if(!a)return k;for(f=0;f<a.length;f++)if(a[f].ha==c&&a[f].capture==d&&a[f].Fa==e)return L(a[f].key);return k}
function L(a){if(!yc[a])return k;var b=yc[a];if(b.ka)return k;var c=b.src,d=b.type,e=b.Db,f=b.capture;if(c.removeEventListener){if(c==o||!c.ib)c.removeEventListener(d,e,f)}else c.detachEvent&&c.detachEvent(Ac(d),e);c=ha(c);e=I[d][f][c];if(J[c]){var h=J[c];Ea(h,b);h.length==0&&delete J[c]}b.ka=i;e.vb=i;Dc(d,f,c,e);delete yc[a];return i}
function Dc(a,b,c,d){if(!d.Ha)if(d.vb){for(var e=0,f=0;e<d.length;e++)if(d[e].ka){var h=d[e].Db;h.src=j;tc(h);vc(d[e])}else{if(e!=f)d[f]=d[e];f++}d.length=f;d.vb=k;if(f==0){qc(d);delete I[a][b][c];I[a][b].o--;if(I[a][b].o==0){oc(I[a][b]);delete I[a][b];I[a].o--}if(I[a].o==0){oc(I[a]);delete I[a]}}}}
function Ec(a,b,c){var d=0,e=a==j,f=b==j,h=c==j;c=!!c;if(e)nb(J,function(m){for(var p=m.length-1;p>=0;p--){var H=m[p];if((f||b==H.type)&&(h||c==H.capture)){L(H.key);d++}}});else{a=ha(a);if(J[a]){a=J[a];for(e=a.length-1;e>=0;e--){var l=a[e];if((f||b==l.type)&&(h||c==l.capture)){L(l.key);d++}}}}return d}function Cc(a,b,c){var d=I;if(b in d){d=d[b];if(c in d){d=d[c];a=ha(a);if(d[a])return d[a]}}return j}function Ac(a){if(a in zc)return zc[a];return zc[a]="on"+a}
function Fc(a,b,c,d,e){var f=1;b=ha(b);if(a[b]){a.F--;a=a[b];if(a.Ha)a.Ha++;else a.Ha=1;try{for(var h=a.length,l=0;l<h;l++){var m=a[l];if(m&&!m.ka)f&=Gc(m,e)!==k}}finally{a.Ha--;Dc(c,d,b,a)}}return Boolean(f)}function Gc(a,b){var c=a.handleEvent(b);a.hb&&L(a.key);return c}
sc(function(a,b){if(!yc[a])return i;var c=yc[a],d=c.type,e=I;if(!(d in e))return i;e=e[d];var f,h;if(Zb===undefined)Zb=v&&!o.addEventListener;if(Zb){var l;if(!(l=b))a:{l="window.event".split(".");for(var m=o;f=l.shift();)if(m[f]!=j)m=m[f];else{l=j;break a}l=m}f=l;l=i in e;m=k in e;if(l){if(f.keyCode<0||f.returnValue!=undefined)return i;a:{var p=k;if(f.keyCode==0)try{f.keyCode=-1;break a}catch(H){p=i}if(p||f.returnValue==undefined)f.returnValue=i}}p=wc();p.N(f,this);f=i;try{if(l){for(var r=pc(),q=
p.currentTarget;q;q=q.parentNode)r.push(q);h=e[i];h.F=h.o;for(var F=r.length-1;!p.$&&F>=0&&h.F;F--){p.currentTarget=r[F];f&=Fc(h,r[F],d,i,p)}if(m){h=e[k];h.F=h.o;for(F=0;!p.$&&F<r.length&&h.F;F++){p.currentTarget=r[F];f&=Fc(h,r[F],d,k,p)}}}else f=Gc(c,p)}finally{if(r){r.length=0;qc(r)}p.l();xc(p)}return f}d=new E(b,this);try{f=Gc(c,d)}finally{d.l()}return f});function M(a){this.qb=a}t(M,cc);var Hc=new G(0,100),Ic=[];function N(a,b,c,d,e,f){if(!da(c)){Ic[0]=c;c=Ic}for(var h=0;h<c.length;h++){var l=a,m=K(b,c[h],d||a,e||k,f||a.qb||a);if(l.e)l.e[m]=i;else if(l.T){l.e=ic(Hc);l.e[l.T]=i;l.T=j;l.e[m]=i}else l.T=m}return a}
function Jc(a,b,c,d,e,f){if(a.T||a.e)if(da(c))for(var h=0;h<c.length;h++)Jc(a,b,c[h],d,e,f);else{a:{d=d||a;f=f||a.qb||a;e=!!(e||k);if(b=Cc(b,c,e))for(c=0;c<b.length;c++)if(b[c].ha==d&&b[c].capture==e&&b[c].Fa==f){b=b[c];break a}b=j}if(b){b=b.key;L(b);if(a.e)rb(a.e,b);else if(a.T==b)a.T=j}}return a}function Kc(a){if(a.e){for(var b in a.e){L(b);delete a.e[b]}jc(Hc,a.e);a.e=j}else a.T&&L(a.T)}M.prototype.m=function(){M.h.m.call(this);Kc(this)};M.prototype.handleEvent=function(){g(Error("EventHandler.handleEvent not implemented"))};function Lc(){}t(Lc,cc);n=Lc.prototype;n.ib=i;n.Ka=j;n.Za=function(a){this.Ka=a};n.addEventListener=function(a,b,c,d){K(this,a,b,c,d)};n.removeEventListener=function(a,b,c,d){Bc(this,a,b,c,d)};
n.dispatchEvent=function(a){a=a;if(s(a))a=new D(a,this);else if(a instanceof D)a.target=a.target||this;else{var b=a;a=new D(a.type,this);tb(a,b)}b=1;var c,d=a.type,e=I;if(d in e){e=e[d];d=i in e;var f;if(d){c=[];for(f=this;f;f=f.Ka)c.push(f);f=e[i];f.F=f.o;for(var h=c.length-1;!a.$&&h>=0&&f.F;h--){a.currentTarget=c[h];b&=Fc(f,c[h],a.type,i,a)&&a.ta!=k}}if(k in e){f=e[k];f.F=f.o;if(d)for(h=0;!a.$&&h<c.length&&f.F;h++){a.currentTarget=c[h];b&=Fc(f,c[h],a.type,k,a)&&a.ta!=k}else for(c=this;!a.$&&c&&
f.F;c=c.Ka){a.currentTarget=c;b&=Fc(f,c,a.type,k,a)&&a.ta!=k}}a=Boolean(b)}else a=i;return a};n.m=function(){Lc.h.m.call(this);Ec(this);this.Ka=j};function Mc(a,b,c,d){this.left=a;this.top=b;this.width=c;this.height=d}Mc.prototype.toString=function(){return"("+this.left+", "+this.top+" - "+this.width+"w x "+this.height+"h)"};function Nc(a,b){var c=z(a);if(c.defaultView&&c.defaultView.getComputedStyle)if(c=c.defaultView.getComputedStyle(a,j))return c[b]||c.getPropertyValue(b);return""}function Oc(a,b,c){if(b instanceof x){c=b.height;b=b.width}else{if(c==undefined)g(Error("missing height argument"));c=c}a.style.width=Pc(b,i);a.style.height=Pc(c,i)}function Pc(a,b){if(typeof a=="number")a=(b?Math.round(a):a)+"px";return a}
function Qc(a){var b=Ta&&!w("10");if((Nc(a,"display")||(a.currentStyle?a.currentStyle.display:j)||a.style.display)!="none")return b?new x(a.offsetWidth||a.clientWidth,a.offsetHeight||a.clientHeight):new x(a.offsetWidth,a.offsetHeight);var c=a.style,d=c.display,e=c.visibility,f=c.position;c.visibility="hidden";c.position="absolute";c.display="inline";if(b){b=a.offsetWidth||a.clientWidth;a=a.offsetHeight||a.clientHeight}else{b=a.offsetWidth;a=a.offsetHeight}c.display=d;c.position=f;c.visibility=e;return new x(b,
a)}function Rc(a,b){var c=a.style;if("opacity"in c)c.opacity=b;else if("MozOpacity"in c)c.MozOpacity=b;else if("filter"in c)c.filter=b===""?"":"alpha(opacity="+b*100+")"}function O(a,b){a.style.display=b?"":"none"};function Sc(){}(function(a){a.pb=function(){return a.Rb||(a.Rb=new a)}})(Sc);Sc.prototype.wb=0;Sc.pb();function P(a){this.p=a||y();this.ic=Tc}t(P,Lc);P.prototype.sb=Sc.pb();var Tc=j;n=P.prototype;n.Ga=j;n.A=k;n.c=j;n.ic=j;n.Vb=j;n.U=j;n.ya=j;n.xa=j;n.Jb=k;n.b=aa("c");n.fa=function(){return this.ga||(this.ga=new M(this))};n.Za=function(a){if(this.U&&this.U!=a)g(Error("Method not supported"));P.h.Za.call(this,a)};n.n=aa("p");n.g=function(){this.c=this.p.createElement("div")};
n.G=function(a){if(this.A)g(Error("Component already rendered"));this.c||this.g();a?a.insertBefore(this.c,j):this.p.r.body.appendChild(this.c);if(!this.U||this.U.A)this.t()};n.jb=function(a){if(this.A)g(Error("Component already rendered"));else if(a&&this.Oa(a)){this.Jb=i;if(!this.p||this.p.r!=z(a))this.p=y(a);this.pa(a);this.t()}else g(Error("Invalid element to decorate"))};n.Oa=function(){return i};n.pa=function(a){this.c=a};n.t=function(){this.A=i;Uc(this,function(a){!a.A&&a.b()&&a.t()})};
n.X=function(){Uc(this,function(a){a.A&&a.X()});this.ga&&Kc(this.ga);this.A=k};n.m=function(){P.h.m.call(this);this.A&&this.X();if(this.ga){this.ga.l();delete this.ga}Uc(this,function(a){a.l()});!this.Jb&&this.c&&Cb(this.c);this.U=this.Vb=this.c=this.xa=this.ya=j};n.ob=aa("c");function Uc(a,b,c){a.ya&&Da(a.ya,b,c)}
n.removeChild=function(a,b){if(a){var c=s(a)?a:a.Ga||(a.Ga=":"+(a.sb.wb++).toString(36)),d;if(this.xa&&c){d=this.xa;d=c in d?d[c]:void 0;d=d||j}else d=j;a=d;if(c&&a){rb(this.xa,c);Ea(this.ya,a);if(b){a.X();a.c&&Cb(a.c)}c=a;if(c==j)g(Error("Unable to set parent component"));c.U=j;P.h.Za.call(c,j)}}if(!a)g(Error("Child is not in parent component"));return a};function Q(){P.call(this,Array.prototype.pop.call(arguments));if(this.Xa){if(!C.Z("username"))g("403");this.bb=C.w("username")}this.mc=Array.prototype.slice.call(arguments);this.f=new R(document,this.p)}t(Q,P);n=Q.prototype;n.Xa=i;n.wa=i;n.B=j;
n.g=function(a,b){function c(){this.Cb(function(){this.c.innerHTML=this.B(this);a.call(b)},this)}Q.h.g.call(this);b=b||this;if(this.B===j)g("no template for view");if(!this.wa&&Vc(this.f.a("#actionbar")))Wc(this.f.a("#actionbar"));else this.wa&&!Vc(this.f.a("#actionbar"))&&this.f.a("#actionbar").show();this.bb?Wb(this.bb,function(d){this.wc=d;c.call(this)},this):c.call(this)};
n.G=function(a,b,c){function d(){a?a.appendChild(this.c):this.p.r.body.appendChild(this.c);if(!this.U||this.U.A)this.t();b&&b.call(c)}if(this.A)g(Error("Component already rendered"));if(typeof a=="function")c=(b=a)||this;else c=c||this;this.c?d.call(this):this.g(d,this)};n.Cb=function(a,b){if(a)a.call(b||this)};function S(a){this.H=lc?[]:"";a!=j&&this.append.apply(this,arguments)}S.prototype.aa=function(a){this.clear();this.append(a)};if(lc){S.prototype.Na=0;S.prototype.append=function(a,b){if(b==j)this.H[this.Na++]=a;else{this.H.push.apply(this.H,arguments);this.Na=this.H.length}return this}}else S.prototype.append=function(a,b){this.H+=a;if(b!=j)for(var c=1;c<arguments.length;c++)this.H+=arguments[c];return this};S.prototype.clear=function(){if(lc)this.Na=this.H.length=0;else this.H=""};
S.prototype.toString=function(){if(lc){var a=this.H.join("");this.clear();a&&this.append(a);return a}else return this.H};function T(a){return sa(String(a))};function Xc(a,b){var c=b||new S;var d=c||new S;d.append('<div id="actionbar"><a href="#/"><img src="img/ab_logo.png" alt="connectsy" id="ab_logo" /></a></div>');c||d.toString();c.append('<div id="main"></div>');if(!b)return c.toString()};function Yc(){Q.apply(this,arguments)}t(Yc,Q);
Yc.prototype.B=function(a,b){var c=b||new S;c.append('<div class="dashboard"><a class="dash-item" href="#/plans/"><img src="img/dashboard_plans.png" alt="Plans" /><br>Plans</a><a class="dash-item" href="#/plans/new/"><img src="img/dashboard_share_plan.png" alt="Share Plan" /><br>Share Plan</a><a class="dash-item" href="#/users/search/"><img src="img/dashboard_search.png" alt="Search" /><br>Search</a><a class="dash-item" href="#/users/<%= user.username %>/"><img src="img/dashboard_profile.png" alt="Profile" /><br>Profile</a></div>');if(!b)return c.toString()};function Zc(a){var b=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],c=["Jan.","Feb.","March","April","May","June","July","Aug.","Sept.","Oct.","Nov.","Dec."],d=new Date;a=typeof a=="number"?new Date(a):typeof a=="undefined"?new Date:a;b=a.getFullYear()==d.getFullYear()?a.getDate()-d.getDate()<8?a.getDate()==d.getDate()?"Today":a.getDate()-d.getDate()==1?"Tomorrow":b[a.getDay()]:c[a.getMonth()]+" "+a.getDate():c[a.getMonth()]+" "+a.getDate()+", "+a.getFullYear();c=a.getHours();
d="am";if(c-12>0){c-=12;d="pm"}b+=" at "+c+":"+a.getMinutes()+d;return b};function U(a){a=a||{};this.nc=a.attendants;this.ca=a.where;this.R=a.when;this.la=a.what;this.Bb=a.posted_from;this.location=a.location;this.s=a.creator;this.gb=a.broadcast;this.Qa=a.created;this.Ya=a.revision}t(U,Pb);
U.prototype.save=function(a,b){b=b||this;if(typeof this.Ya!="undefined")g("Plan.save can only be used to create new plans (for now)");var c={};c.what=this.la;c.client="mobile-web";if(this.ca)c.where=this.ca;if(this.R)c.when=this.R.UTC();if(this.Bb)c.posted_from=this.Bb;if(this.location)c.location=this.location;if(this.gb)c.broadcast=this.gb;Ub({path:"/events/",method:"POST",body:c},function(d,e){a&&a.call(b,d,e)})};
function $c(a,b,c){c=c||U;Ub("/events/"+a+"/",function(d,e){e==200?b.call(c,new U(d.event),e):b.call(c,j,e)})}function ad(a,b){b=b||U;Ub("/events/",function(c,d){d==200?a.call(b,new bd(c.events),d):a.call(b,j,d)})}function bd(){Qb.call(this)}t(bd,Qb);bd.prototype.Kb=U;function R(a,b){this.p=b||y();if(a!==j&&typeof a!="undefined"&&typeof a.length=="undefined")this.push(a);else if(a!==j&&typeof a!="undefined"&&a.length>0)for(var c=0;c<a.length;c++)this.push(a[c]);else{this.push(1);this.pop()}}t(R,Ob);n=R.prototype;n.q=function(a,b,c){c=typeof b=="object"?b:c||this;for(var d=0;d<this.length;d++)a.call(c,this[d]);b&&b.call(c);return this};
n.a=function(a){return/^#\w+$/.test(a)?new R(this[0].getElementById(a.slice(1)),this.p):/^\w+$/.test(a)?new R(this[0].getElementsByTagName(a),this.p):new R(this[0].querySelectorAll(a),this.p)};function V(a,b,c,d){a.q(function(e){K(e,b,c,k,d||new R(e))})}function cd(a,b,c){a.q(function(d){Bc(d,b,c,k)});return a}function dd(a,b){if(typeof b=="undefined")return a[0].innerHTML;a.q(function(c){c.innerHTML=b});return a}
n.append=function(a){if(typeof a=="undefined")g("html required");this.q(function(b){b.innerHTML+=a});return this};function ed(a,b){if(typeof b=="undefined")g("html required");a.q(function(c){c.innerHTML=b+c.innerHTML});return a}
function fd(a,b,c,d){if(typeof b=="function"){d=c||a;c=b;b=undefined}if(typeof b=="undefined")g("html required");a.q(function(e){var f;var h=b;f=document.createElement("div");if(v){f.innerHTML="<br>"+h;f.removeChild(f.firstChild)}else f.innerHTML=h;if(f.childNodes.length==1)f=f.removeChild(f.firstChild);else{for(h=document.createDocumentFragment();f.firstChild;)h.appendChild(f.firstChild);f=h}e.parentNode&&e.parentNode.insertBefore(f,e)},c,d);return a}
function Wc(a){a.q(function(b){b.Zb=b.style.display;b.style.display="none"});return a}n.show=function(){this.q(function(a){a.style.display=a.Zb||"block"})};function Vc(a){var b=i;a.q(function(c){b=b&&c.style.display!="none"});return b}n.remove=function(){this.q(function(a){a.parentNode.removeChild(a)});return this};n.style=function(a,b){if(typeof b=="undefined")return this[0].style[a]=b;else{this.q(function(c){c.style[a]=b});return this}};
n.V=function(a){if(typeof a=="undefined")return this[0].value;else{this.q(function(b){b.value=a});return this}};function gd(a,b,c){if(typeof c=="undefined")return a[0].getAttribute("id");else{a.q(function(d){d.setAttribute(b,c)});return a}}function hd(a,b){a.q(function(c){kb(c,b)});return a}function id(a,b){a.q(function(c){lb(c,b)});return a}var W=new R(document);W.gc=W.a;W.a=function(){return W.gc.apply(this,arguments)};function jd(a){if(typeof a=="string")this.O={a:a};this.O=a;this.f=new R(document)}function kd(a){if(!a.Ba)a.Ba=a.f.a(a.O.a);return a.Ba}jd.prototype.ba=function(a,b){function c(e,f){d.u=e||d.u===i;d.error=f||d.error;a.call(b,d.u,d.error)}b=b||this;var d=this;if(kd(this).length<1)c(k,"No element matching q");else typeof this.O.ba=="function"?this.O.ba.call(b,c):c(i)};function ld(a,b,c,d){d=d||a;if(a.u===k)b.call(d,kd(a),a.error,c,d);else c&&c.call(d)}
jd.prototype.V=function(){var a=kd(this).V();if(a!==j&&a!="")return a};function md(a){this.f=new R(document);this.Ba=a instanceof R?a:typeof a=="string"?this.f.a(a):typeof this.a=="string"?this.f.a(this.a):j;if(this.Ba==j)g("Form has no form query")}md.prototype.ba=function(a,b){b=b||this;this.nb={};this.u=i;var c=ob(this.ea);nb(this.ea,function(d,e){d.ba(function(f,h){this.u=this.u&&f;f||(this.nb[e]=h);c--;c==0&&a.call(b,this.u,this.nb)},this)},this)};
function nd(a,b,c){c=c||a;var d=ob(a.ea);nb(a.ea,function(e){ld(e,this.Eb,function(){d--;d==0&&b&&b.call(c)},this)},a)}md.prototype.Eb=function(a,b,c,d){d=d||this;fd(a,b,c,d)};function od(){jd.apply(this,arguments)}t(od,jd);od.prototype.ba=function(a,b){b=b||this;od.h.ba.call(this,function(){function c(){a.call(b,this.u,this.error)}this.u||c();var d=kd(this).V(),e=this.O.name||"This field";this.u=i;this.u=!(this.O.hc&&d.length==0);if(!this.u){this.error=e+" is required";return c.call(this)}if(this.O.maxLength){this.u=this.O.maxLength>=d.length;if(!this.u){this.error="Only "+this.O.maxLength+" characters allowed for "+e;return c.call(this)}}c.call(this)},this)};var pd=Nb.extend({B:function(a,b){var c=b||new S;c.append('<div class="dialog"><div class="body">',T(a.body),'</div><div class="buttons">');for(var d=a.pc,e=d.length,f=0;f<e;f++)c.append('<div class="button goog-css3-button">',T(d[f]),"</div>");c.append("</div></div>");if(!b)return c.toString()},N:function(a,b,c,d){this.body=a;this.zb=c||"50%";this.Ab=d||"55px"},display:function(a,b){b=b||this;W.a("body").append(this.B(this));var c=W.a(".dialog");/\d+%/.test(this.zb)&&c.style("marginLeft",-(c[0].offsetWidth/
2)+"px");c.style("left",this.zb);/\d+%/.test(this.Ab)&&c.style("marginTop",-(c[0].offsetHeight/2)+"px");c.style("top",this.Ab);a&&a.call(b)},remove:function(){W.a(".dialog").remove()}}),qd=pd.extend({B:function(a,b){var c=b||new S;c.append('<div class="dialog wait"><img src="img/spinner.gif"/> ',T(a.body),"</div>");if(!b)return c.toString()},N:function(a,b,c){this.ma(a,undefined,b,c)}}),rd=pd.extend({B:function(a,b){var c=b||new S;c.append('<div class="dialog toast">',T(a.body),"</div>");if(!b)return c.toString()},
N:function(a,b,c,d){this.timeout=b||5E3;this.ma(a,j,c,d)},display:function(){this.ma.apply(this,arguments);setTimeout(function(){W.a(".dialog.toast").remove()},this.timeout)}});function sd(){this.a=".plan-new form";this.ea={la:new od({a:"[name=what]",hc:i,maxLength:150,name:"What"}),ca:new od({a:"[name=when]",maxLength:25,name:"Where"})};md.call(this)}t(sd,md);sd.prototype.Eb=function(a,b){(new rd(b)).display()};function td(a,b){var c=b||new S;c.append('<div class="plan-list"><h1>Plans</h1><ul></ul></div>');if(!b)return c.toString()}
function ud(a,b){var c=b||new S;c.append('<div class="plan-view"><div class="user" /><img src="',T(a.s.Ma),'" class="avatar" /><a class="username" href="#',T(a.s.link),'">',T(a.D.s),'</a></div><div class="plan-body"><div class="what">',T(a.D.la),"</div>",a.D.ca?'<div class="where">Where: '+T(a.D.ca)+"</div>":"",a.D.R?'<div class="when">When: '+T(a.D.R)+"</div>":"",'<div class="created">Created ',T(a.D.Ra),'</div></div><div class="list-button comments">Comments</div><div class="list-button who">Who\'s In</div></div>');
if(!b)return c.toString()}
function vd(a,b){var c=b||new S;c.append('<div class="plan-new"><form><textarea name="what" placeholder="What are you doing later?"></textarea><input type="text" name="where" placeholder="Where (optional)" /><div class="list-button" id="when">When (optional)</div><div id="private"><label> Public<input type="radio" name="private" value="public" /></label><label> Private<input type="radio" name="private" value="private" /></label></div><div class="list-button" id="sms">Invite with SMS</div><div id="button-bar"><input type="submit" value="Share"/></div></form></div>');if(!b)return c.toString()}
;function wd(a,b){var c=b||new S;c.append('<li id="',a.id,'"><img src="img/spinner.gif"/></li>');if(!b)return c.toString()};function X(a,b){P.call(this,b);this.d=a instanceof Date?a:typeof a=="number"?new Date(a):new Date;var c=this.d.getMinutes();if(c>0&&c<15)this.d.setMinutes(15);else if(c>15&&c<30)this.d.setMinutes(30);else if(c>30&&c<45)this.d.setMinutes(45);else if(c>45&&this.d.getHours()!=24){this.d.setHours(this.d.getHours+1);this.d.setMinutes(0)}this.ia=this.d.getHours()>12?"pm":"am";this.Ta=new M(this);this.dispatchEvent({type:"change"})}t(X,P);n=X.prototype;n.g=function(){this.pa(this.p.createElement("div"))};
n.pa=function(a){a=this.c=a;var b;b=new S;b.append('<div class="widget datetime"><h1>Day</h1><div class="button-row toggle"><div id="day-today" class="button goog-css3-toggle-button goog-css3-button-collapse-right goog-css3-button">Today</div><div id="day-tomorrow" class="button goog-css3-toggle-button goog-css3-button-collapse-left goog-css3-button">Tomorrow</div></div><h1>Hour</h1><div class="button-row toggle"><div id="m-am" class="button goog-css3-toggle-button goog-css3-button-collapse-right goog-css3-button">AM</div><div id="m-pm" class="button goog-css3-toggle-button goog-css3-button-collapse-left goog-css3-button">PM</div></div><div class="button-row"><div id="hour-1" class="button goog-css3-toggle-button goog-css3-button">1</div><div id="hour-2" class="button goog-css3-toggle-button goog-css3-button">2</div><div id="hour-3" class="button goog-css3-toggle-button goog-css3-button">3</div><div id="hour-4" class="button goog-css3-toggle-button goog-css3-button">4</div></div><div class="button-row"><div id="hour-5" class="button goog-css3-toggle-button goog-css3-button">5</div><div id="hour-6" class="button goog-css3-toggle-button goog-css3-button">6</div><div id="hour-7" class="button goog-css3-toggle-button goog-css3-button">7</div><div id="hour-8" class="button goog-css3-toggle-button goog-css3-button">8</div></div><div class="button-row"><div id="hour-9" class="button goog-css3-toggle-button goog-css3-button">9</div><div id="hour-10" class="button goog-css3-toggle-button goog-css3-button">10</div><div id="hour-11" class="button goog-css3-toggle-button goog-css3-button">11</div><div id="hour-12" class="button goog-css3-toggle-button goog-css3-button">12</div></div><h1>Minute</h1><div class="button-row"><div id="minute-0" class="button goog-css3-toggle-button goog-css3-button">0</div><div id="minute-15" class="button goog-css3-toggle-button goog-css3-button">15</div><div id="minute-30" class="button goog-css3-toggle-button goog-css3-button">30</div><div id="minute-45" class="button goog-css3-toggle-button goog-css3-button">45</div></div></div>');
b=b.toString();a.innerHTML=b};n.t=function(){X.h.t.call(this);N(this.Ta,this.c,"click",this.$b,i,this);xd(this)};
n.$b=function(a){a=a.target.id.split("-");switch(a[0]){case "day":if(a[1]=="today")this.d.setDate((new Date).getDate());else{a=new Date;var b;a:{switch(a.getMonth()){case 1:b=a.getYear()%4==0&&(a.getYear()%100!=0||a.getYear()%400==0)?29:28;break a;case 5:case 8:case 10:case 3:b=30;break a}b=31}if(b==a.getDate()){this.d.setDate(1);a.getMonth()==12?this.d.setMonth(1):this.d.setMonth(a.getMonth()+1)}else this.d.setDate(a.getDate()+1)}break;case "m":if(this.ia=="am"&&a[1]=="pm")this.d.setHours(this.d.getHours()+
12);else this.ia=="pm"&&a[1]=="am"&&this.d.setHours(this.d.getHours()-12);this.ia=a[1];break;case "hour":a=parseInt(a[1]);if(this.ia=="pm")a+=12;this.d.setHours(a);break;case "minute":this.d.setMinutes(parseInt(a[1]))}this.dispatchEvent({type:"change"});xd(this)};
function xd(a){id(W.a(".widget.datetime .button"),"goog-css3-button-open");hd(W.a("#day-"+((new Date).getDate()==a.d.getDate()?"today":"tomorrow")),"goog-css3-button-open");hd(W.a("#m-"+a.ia),"goog-css3-button-open");var b=a.ia=="am"?a.d.getHours():a.d.getHours()-12;if(b<0)b=12;hd(W.a("#hour-"+b),"goog-css3-button-open");hd(W.a("#minute-"+a.d.getMinutes()),"goog-css3-button-open")}n.X=function(){X.h.X.call(this);Kc(this.Ta)};n.l=function(){if(!this.Pb()){X.h.l.call(this);this.Ta.l();this.d=j}};var yd=o.window;function zd(a){this.c=a;a=v?"focusout":"blur";this.Tb=K(this.c,v?"focusin":"focus",this,!v);this.Ub=K(this.c,a,this,!v)}t(zd,Lc);zd.prototype.handleEvent=function(a){var b=new E(a.M);b.type=a.type=="focusin"||a.type=="focus"?"focusin":"focusout";try{this.dispatchEvent(b)}finally{b.l()}};zd.prototype.m=function(){zd.h.m.call(this);L(this.Tb);L(this.Ub);delete this.c};function Ad(a,b,c){this.target=a;this.handle=b||a;this.Wa=c||new Mc(NaN,NaN,NaN,NaN);this.r=z(a);this.J=new M(this);K(this.handle,"mousedown",this.Fb,k,this)}t(Ad,Lc);var Bd=v||Ua&&w("1.9.3");n=Ad.prototype;n.screenX=0;n.screenY=0;n.Gb=0;n.Hb=0;n.qa=0;n.ra=0;n.mb=i;n.S=k;n.rb=0;n.Wb=0;n.Qb=k;n.fa=aa("J");n.m=function(){Ad.h.m.call(this);Bc(this.handle,"mousedown",this.Fb,k,this);this.J.l();delete this.target;delete this.handle;delete this.J};
n.Fb=function(a){if(this.mb&&!this.S&&(a.type!="mousedown"||($b?a.M.button==0:a.type=="click"?i:!!(a.M.button&fc[0])))){if(this.rb==0){Cd(this,a);if(this.S)a.preventDefault();else return}else a.preventDefault();var b=this.r,c=b.documentElement,d=!Bd;N(this.J,b,"mousemove",this.Xb,d);N(this.J,b,"mouseup",this.Ca,d);if(Bd){c.setCapture(k);N(this.J,c,"losecapture",this.Ca)}else N(this.J,zb(b),"blur",this.Ca);v&&this.Qb&&N(this.J,b,"dragstart",dc);this.kc&&N(this.J,this.kc,"scroll",this.cc,d);this.screenX=
this.Gb=a.screenX;this.screenY=this.Hb=a.screenY;this.qa=this.target.offsetLeft;this.ra=this.target.offsetTop;this.sa=Hb(y(this.r));this.Wb=na()}};function Cd(a,b){if(a.dispatchEvent(new Dd("start",a,b.clientX,b.clientY,b))!==k)a.S=i}n.Ca=function(a,b){Kc(this.J);Bd&&this.r.releaseCapture();if(this.S){this.S=k;this.dispatchEvent(new Dd("end",this,a.clientX,a.clientY,a,Ed(this,this.qa),Fd(this,this.ra),b))}};
n.Xb=function(a){if(this.mb){var b=a.screenX-this.screenX,c=a.screenY-this.screenY;this.screenX=a.screenX;this.screenY=a.screenY;if(!this.S){var d=this.Gb-this.screenX,e=this.Hb-this.screenY;if(d*d+e*e>this.rb){Cd(this,a);if(!this.S){this.Ca(a);return}}}c=Gd(this,b,c);b=c.x;c=c.y;if(this.S)if(this.dispatchEvent(new Dd("beforedrag",this,a.clientX,a.clientY,a,b,c))!==k){Hd(this,a,b,c,k);a.preventDefault()}}};
function Gd(a,b,c){var d=Hb(y(a.r));b+=d.x-a.sa.x;c+=d.y-a.sa.y;a.sa=d;a.qa+=b;a.ra+=c;return new mb(Ed(a,a.qa),Fd(a,a.ra))}n.cc=function(a){var b=Gd(this,0,0);a.clientX=this.sa.x-this.screenX;a.clientY=this.sa.x-this.screenY;Hd(this,a,b.x,b.y,i)};function Hd(a,b,c,d){a.target.style.left=c+"px";a.target.style.top=d+"px";a.dispatchEvent(new Dd("drag",a,b.clientX,b.clientY,b,c,d))}
function Ed(a,b){var c=a.Wa,d=!isNaN(c.left)?c.left:j;c=!isNaN(c.width)?c.width:0;return Math.min(d!=j?d+c:Infinity,Math.max(d!=j?d:-Infinity,b))}function Fd(a,b){var c=a.Wa,d=!isNaN(c.top)?c.top:j;c=!isNaN(c.height)?c.height:0;return Math.min(d!=j?d+c:Infinity,Math.max(d!=j?d:-Infinity,b))}function Dd(a,b,c,d,e,f,h,l){D.call(this,a);this.clientX=c;this.clientY=d;this.oc=e;this.left=f!==undefined?f:b.qa;this.top=h!==undefined?h:b.ra;this.rc=b;this.qc=!!l}t(Dd,D);function Id(a){if(typeof a.Ea=="function")return a.Ea();if(s(a))return a.split("");if(ea(a)){for(var b=[],c=a.length,d=0;d<c;d++)b.push(a[d]);return b}return pb(a)}function Jd(a,b,c){if(typeof a.forEach=="function")a.forEach(b,c);else if(ea(a)||s(a))Da(a,b,c);else{var d;if(typeof a.Ua=="function")d=a.Ua();else if(typeof a.Ea!="function")if(ea(a)||s(a)){d=[];for(var e=a.length,f=0;f<e;f++)d.push(f);d=d}else d=qb(a);else d=void 0;e=Id(a);f=e.length;for(var h=0;h<f;h++)b.call(c,e[h],d&&d[h],a)}};function Kd(a){this.P={};this.e=[];var b=arguments.length;if(b>1){if(b%2)g(Error("Uneven number of arguments"));for(var c=0;c<b;c+=2)this.aa(arguments[c],arguments[c+1])}else if(a){if(a instanceof Kd){b=a.Ua();c=a.Ea()}else{b=qb(a);c=pb(a)}for(var d=0;d<b.length;d++)this.aa(b[d],c[d])}}n=Kd.prototype;n.o=0;n.cb=0;n.Ea=function(){Ld(this);for(var a=[],b=0;b<this.e.length;b++)a.push(this.P[this.e[b]]);return a};n.Ua=function(){Ld(this);return this.e.concat()};
n.clear=function(){this.P={};this.cb=this.o=this.e.length=0};n.remove=function(a){if(Object.prototype.hasOwnProperty.call(this.P,a)){delete this.P[a];this.o--;this.cb++;this.e.length>2*this.o&&Ld(this);return i}return k};
function Ld(a){if(a.o!=a.e.length){for(var b=0,c=0;b<a.e.length;){var d=a.e[b];if(Object.prototype.hasOwnProperty.call(a.P,d))a.e[c++]=d;b++}a.e.length=c}if(a.o!=a.e.length){var e={};for(c=b=0;b<a.e.length;){d=a.e[b];if(!Object.prototype.hasOwnProperty.call(e,d)){a.e[c++]=d;e[d]=1}b++}a.e.length=c}}n.w=function(a,b){if(Object.prototype.hasOwnProperty.call(this.P,a))return this.P[a];return b};
n.aa=function(a,b){if(!Object.prototype.hasOwnProperty.call(this.P,a)){this.o++;this.e.push(a);this.cb++}this.P[a]=b};function Y(a,b,c){P.call(this,c);this.k=a||"modal-dialog";this.ab=!!b;this.z=Md()}t(Y,P);n=Y.prototype;n.Da=j;n.Nb=i;n.Va=i;n.ab=k;n.Ia=i;n.lb=i;n.Lb=0.5;n.La="";n.oa="";n.z=j;n.da=j;n.db=k;n.Mb=k;n.j=j;n.i=j;n.C=j;n.K=j;n.$a=j;n.Q=j;n.I=j;n.v=j;n.ob=function(){this.b()||this.G();return this.I};
n.g=function(){Nd(this);var a=this.n();this.c=a.g("div",{className:this.k,tabIndex:0},this.C=a.g("div",{className:this.k+"-title",id:this.Ga||(this.Ga=":"+(this.sb.wb++).toString(36))},this.K=a.g("span",this.k+"-title-text",this.La),this.Q=a.g("span",this.k+"-title-close")),this.I=a.g("div",this.k+"-content"),this.v=a.g("div",this.k+"-buttons"),this.Ib=a.g("span",{tabIndex:0}));this.$a=this.C.id;a=this.b();a.setAttribute("role","dialog");a.jc="dialog";this.b().setAttribute("aria-labelledby",this.$a||
"");if(this.oa)this.I.innerHTML=this.oa;O(this.Q,this.Va);O(this.b(),k);if(this.z){a=this.z;a.c=this.v;a.G()}};function Nd(a){if(a.ab&&a.Ia&&!a.i){var b;b=a.n().g("iframe",{frameborder:0,style:"border:0;vertical-align:bottom;",src:'javascript:""'});a.i=b;a.i.className=a.k+"-bg";O(a.i,k);Rc(a.i,0)}else if((!a.ab||!a.Ia)&&a.i){Cb(a.i);a.i=j}if(a.Ia&&!a.j){a.j=a.n().g("div",a.k+"-bg");Rc(a.j,a.Lb);O(a.j,k)}else if(!a.Ia&&a.j){Cb(a.j);a.j=j}}
n.G=function(a){if(this.A)g(Error("Component already rendered"));this.b()||this.g();a=a||A(this.n()).body;Od(this,a);Y.h.G.call(this,a)};function Od(a,b){a.i&&b.appendChild(a.i);a.j&&b.appendChild(a.j)}n.Oa=function(a){return a&&a.tagName&&a.tagName=="DIV"&&Y.h.Oa.call(this,a)};
n.pa=function(a){Y.h.pa.call(this,a);kb(this.b(),this.k);a=this.k+"-content";if(this.I=vb(document,j,a,this.b())[0])this.oa=this.I.innerHTML;else{this.I=this.n().g("div",a);if(this.oa)this.I.innerHTML=this.oa;this.b().appendChild(this.I)}a=this.k+"-title";var b=this.k+"-title-text",c=this.k+"-title-close";if(this.C=vb(document,j,a,this.b())[0]){this.K=vb(document,j,b,this.C)[0];this.Q=vb(document,j,c,this.C)[0]}else{this.C=this.n().g("div",a);this.b().insertBefore(this.C,this.I)}if(this.K)this.La=
Fb(this.K);else{this.K=this.n().g("span",b,this.La);this.C.appendChild(this.K)}this.b().setAttribute("aria-labelledby",this.$a||"");if(!this.Q){this.Q=this.n().g("span",c);this.C.appendChild(this.Q)}O(this.Q,this.Va);a=this.k+"-buttons";if(this.v=vb(document,j,a,this.b())[0]){this.z=new Z(this.n());this.z.jb(this.v)}else{this.v=this.n().g("div",a);this.b().appendChild(this.v);if(this.z){a=this.z;a.c=this.v;a.G()}}Nd(this);Od(this,z(this.b()).body);O(this.b(),k)};
n.t=function(){Y.h.t.call(this);this.Da=new zd(A(this.n()));if(this.lb&&!this.da){var a=new Ad(this.b(),this.C);kb(this.C,this.k+"-title-draggable");this.da=a}N(N(this.fa(),this.Q,"click",this.dc),this.Da,"focusin",this.ac);a=this.b();a.setAttribute("role","dialog");a.jc="dialog";this.K.id!==""&&this.b().setAttribute("aria-labelledby",this.K.id)};n.X=function(){this.db&&Pd(this,k);this.Da.l();this.Da=j;if(this.da){this.da.l();this.da=j}Y.h.X.call(this)};
function Pd(a,b){if(b!=a.db){var c=A(a.n()),d=zb(c)||window;a.A||a.G(c.body);if(b){Qd(a);c=A(a.n());c=zb(c)||window;if((Nc(a.b(),"position")||(a.b().currentStyle?a.b().currentStyle.position:j)||a.b().style.position)=="fixed")var e=0,f=0;else{f=Hb(a.n());e=f.x;f=f.y}var h=Qc(a.b()),l=yb(c||window);c=a.b();e=Math.max(e+l.width/2-h.width/2,0);l=Math.max(f+l.height/2-h.height/2,0);h=Ua&&(Oa||Ya)&&w("1.9");if(e instanceof mb){f=e.x;e=e.y}else{f=e;e=l}c.style.left=Pc(f,h);c.style.top=Pc(e,h);N(N(N(a.fa(),
a.b(),"keydown",a.Ja),a.b(),"keypress",a.Ja),d,"resize",a.yb)}else Jc(Jc(Jc(a.fa(),a.b(),"keydown",a.Ja),a.b(),"keypress",a.Ja),d,"resize",a.yb);a.i&&O(a.i,b);a.j&&O(a.j,b);O(a.b(),b);b&&a.focus();if(a.db=b)N(a.fa(),a.v,"click",a.xb);else{Jc(a.fa(),a.v,"click",a.xb);a.dispatchEvent(Rd);a.Mb&&a.l()}}}
n.focus=function(){try{this.b().focus()}catch(a){}if(this.z){var b=this.z.za;if(b)for(var c=A(this.n()),d=this.v.getElementsByTagName("button"),e=0,f;f=d[e];e++)if(f.name==b){try{if(Va||Ta){var h=c.createElement("input");h.style.cssText="position:fixed;width:0;height:0;left:0;top:0;";this.b().appendChild(h);h.focus();this.b().removeChild(h)}f.focus()}catch(l){}break}}};
function Qd(a){a.i&&O(a.i,k);a.j&&O(a.j,k);var b=A(a.n()),c=yb(zb(b)||window||window),d=Math.max(b.body.scrollWidth,c.width);b=Math.max(b.body.scrollHeight,c.height);if(a.i){O(a.i,i);Oc(a.i,d,b)}if(a.j){O(a.j,i);Oc(a.j,d,b)}if(a.lb){c=Qc(a.b());a.da.Wa=new Mc(0,0,d-c.width,b-c.height)}}n.dc=function(){if(this.Va){var a=this.z,b=a&&a.Pa;if(b){a=a.w(b);this.dispatchEvent(new Sd(b,a))&&Pd(this,k)}else Pd(this,k)}};
n.m=function(){Y.h.m.call(this);if(this.j){Cb(this.j);this.j=j}if(this.i){Cb(this.i);this.i=j}this.Ib=this.v=this.Q=j};n.xb=function(a){a:{for(a=a.target;a!=j&&a!=this.v;){if(a.tagName=="BUTTON"){a=a;break a}a=a.parentNode}a=j}if(a&&!a.disabled){a=a.name;var b=this.z.w(a);this.dispatchEvent(new Sd(a,b))&&Pd(this,k)}};
n.Ja=function(a){var b=k,c=k,d=this.z,e=a.target;if(a.type=="keydown")if(this.Nb&&a.keyCode==27){var f=d&&d.Pa;e=e.tagName=="SELECT"&&!e.disabled;if(f&&!e){c=i;b=d.w(f);b=this.dispatchEvent(new Sd(f,b))}else e||(b=i)}else{if(a.keyCode==9&&a.shiftKey&&e==this.b())c=i}else if(a.keyCode==13){if(e.tagName=="BUTTON")f=e.name;else if(d){var h=d.za,l;if(l=h)a:{l=d.c.getElementsByTagName("BUTTON");for(var m=0,p;p=l[m];m++)if(p.name==h||p.id==h){l=p;break a}l=j}l=l;e=(e.tagName=="TEXTAREA"||e.tagName=="SELECT")&&
!e.disabled;if(l&&!l.disabled&&!e)f=h}if(f){c=i;b=this.dispatchEvent(new Sd(f,String(d.w(f))))}}if(b||c){a.stopPropagation();a.preventDefault()}b&&Pd(this,k)};n.yb=function(){Qd(this)};n.ac=function(a){if(this.Ib==a.target){a=this.Ob;if(fa(a)){if(this)a=ma(a,this)}else if(a&&typeof a.handleEvent=="function")a=ma(a.handleEvent,a);else g(Error("Invalid listener argument"));yd.setTimeout(a,0)}};n.Ob=function(){v&&A(this.n()).body.focus();this.b().focus()};
function Sd(a,b){this.type=Td;this.key=a;this.caption=b}t(Sd,D);var Td="dialogselect",Rd="afterhide";function Z(a){this.p=a||y();Kd.call(this)}t(Z,Kd);n=Z.prototype;n.k="goog-buttonset";n.za=j;n.c=j;n.Pa=j;n.aa=function(a,b,c,d){Kd.prototype.aa.call(this,a,b);if(c)this.za=a;if(d)this.Pa=a;return this};function $(a,b,c,d){return a.aa(b.key,b.caption,c,d)}
n.G=function(){if(this.c){this.c.innerHTML="";var a=y(this.c);Jd(this,function(b,c){var d=a.g("button",{name:c},b);if(c==this.za)d.className=this.k+"-default";this.c.appendChild(d)},this)}};n.jb=function(a){if(!(!a||a.nodeType!=1)){this.c=a;a=this.c.getElementsByTagName("button");for(var b=0,c,d,e;c=a[b];b++){d=c.name||c.id;e=Fb(c)||c.value;if(d){var f=b==0;this.aa(d,e,f,c.name==Ud);f&&kb(c,this.k+"-default")}}}};
var Ud="cancel",Vd=oa("OK"),Wd=oa("Cancel"),Xd=oa("Yes"),Yd=oa("No"),Zd=oa("Save"),$d=oa("Continue"),ae={key:"ok",caption:Vd},be={key:Ud,caption:Wd},ce={key:"yes",caption:Xd},de={key:"no",caption:Yd},ee={key:"save",caption:Zd},fe={key:"continue",caption:$d};function Md(){return $($(new Z,ae,i),be,k,i)}$(new Z,ae,i,i);Md();$($(new Z,ce,i),de,k,i);$($($(new Z,ce),de,i),be,k,i);$($($(new Z,fe),ee),be,i,i);function ge(a){Y.call(this,j,k);this.d=a instanceof Date?a:typeof a=="number"?new Date(a):new Date;this.va=j}t(ge,Y);ge.prototype.g=function(){var a=Zc(this.d);this.La=a;if(this.K){var b=this.K;if("textContent"in b)b.textContent=a;else if(b.firstChild&&b.firstChild.nodeType==3){for(;b.lastChild!=b.firstChild;)b.removeChild(b.lastChild);b.firstChild.data=a}else{for(var c;c=b.firstChild;)b.removeChild(c);b.appendChild(z(b).createTextNode(a))}}ge.h.g.call(this)};
ge.prototype.t=function(){ge.h.t.call(this);this.va=new X(this.d);this.va.G(this.ob());this.va.addEventListener("change",function(){this.d=this.va.d},k,this);Pd(this,i)};X.prototype.l=function(){ge.h.l.call(this);this.va.l()};var he={},ie={},je={};
(function(){var a=bd;he=function(){Q.apply(this,arguments)};t(he,Q);he.prototype.B=td;he.prototype.t=function(){ad(function(b){b instanceof a&&b.q(function(c){this.f.a(".plan-list ul").append(wd({id:c}));$c(c,function(d){d.Ra=Zc(d.Qa);var e=this.f.a("#"+c);d={D:d,s:{Ma:"/users/"+d.s+"/avatar/",link:"/users/"+d.s+"/"}};var f=new S;f.append('<img src="',T(d.s.Ma),'" class="avatar" /><a class="username" href="#',T(d.s.link),'">',T(d.D.s),"</a>",T(d.D.la),'<div class="created">Created ',T(d.D.Ra),"</div>");
d=f.toString();dd(e,d);this.fc()},this)},this)},this)};he.prototype.fc=function(){V(this.f.a(".plan-list li"),"click",function(){var b="/plans/"+gd(this,"id")+"/";document.location.hash="#"+b})};je=function(b){Q.apply(this,arguments);this.Ya=b};t(je,Q);je.prototype.B=ud;je.prototype.Cb=function(b,c){c=c||this;$c(this.Ya,function(d){d.Ra=Zc(d.Qa);this.D=d;this.s={};this.s.Ma="/users/"+d.s+"/avatar/";this.s.link="/users/"+d.s+"/";b.call(c)},this)};ie=function(){Q.apply(this,arguments)};t(ie,Q);ie.prototype.B=
vd;ie.prototype.t=function(){this.form=new sd;V(this.f.a(".plan-new form"),"submit",function(b){b.preventDefault();this.submit()},this);V(this.f.a("#when"),"click",function(b){b.preventDefault();this.eb=new ge;this.eb.G();this.eb.addEventListener("dialogselect",function(c){if(c.key=="ok"){this.R=this.eb.d;dd(this.f.a("#when"),Zc(this.R));this.f.a("#when").style("color","#222")}},k,this)},this)};ie.prototype.submit=function(){this.form.ba(function(b){if(!b)return nd(this.form);var c=new qd("Creating Plan...");
c.display();b=new U;b.la=form.ea.la.V();b.ca=form.ea.ca.V();if(this.R)b.R=this.R;b.save(function(d,e){c.remove();if(e==201)document.location.hash="#"+("/plans/"+d.revision+"/")},this)},this)}})();function ke(){Q.apply(this,arguments);C.clear();document.location.hash="#/login/"}t(ke,Q);ke.prototype.Yb=i;function le(){Q.apply(this,arguments)}t(le,Q);le.prototype.Xa=k;le.prototype.wa=k;
le.prototype.B=function(a,b){var c=b||new S;c.append('<div class="auth login"><img src="img/auth_logo.png" alt="Connectsy" class="auth_logo"/><form class="login"><ul><li><input type="text" name="username" placeholder="username"/></li><li><input type="password" name="password" placeholder="password"/></li><li><a href="#/signup/">Sign Up</a> or <input type="button" name="submit" value="Login"/></li></ul></form></div>');if(!b)return c.toString()};
le.prototype.t=function(){V(this.f.a("input[name=submit]"),"click",function(a){a.preventDefault?a.preventDefault():a.returnValue=k;var b=this.f.a("input[name=username]");a=b.V();if(a==""){b.style("backgroundColor","#f00");V(b,"keydown",function f(){b.style("backgroundColor","#fff");cd(b,"keydown",f)})}else{var c=this.f.a("input[name=password]"),d=c.V();if(d==""){c.style("backgroundColor","#f00");V(c,"keydown",function f(){c.style("backgroundColor","#fff");cd(c,"keydown",f)})}else{var e=new qd("Loging in...");
e.display();Yb(a,d,function(f){e.remove();if(f instanceof Vb)document.location.hash="#/";else ed(this.f.a("form"),'<div class="error">Invalid username or password</div>')})}}})};function me(){Q.apply(this,arguments)}t(me,Q);me.prototype.Xa=k;me.prototype.wa=k;
me.prototype.B=function(a,b){var c=b||new S;c.append('<div class="auth signup"><img src="img/auth_logo.png" alt="Connectsy" class="auth_logo"/><form class="signup"><ul><li><input type="text" name="username" placeholder="username"/></li><li><input type="password" name="password" placeholder="password"/></li><li><input type="password" name="password2" placeholder="password  (again)"/></li><li><a href="#/login/">Log In</a> or <input type="button" name="submit" value="Sign Up"/></li></ul></form></div>');if(!b)return c.toString()};
me.prototype.t=function(){V(this.f.a("input[name=submit]"),"click",function(a){function b(h){h=this.f.a(h);var l=h.V();if(l=="")return c(h);return l}function c(h){h.style("backgroundColor","#f00");V(h,"keydown",function l(){h.style("backgroundColor","#fff");cd(h,"keydown",l)})}a.preventDefault?a.preventDefault():a.returnValue=k;var d=b("input[name=username]"),e=b("input[name=password]");a=b("input[name=password2]");if(e!=a)c(this.f.a("input[type=password]"));else if(!(d==""||e=="")){var f=new qd("Loging in...");
f.display();Xb(d,e,function(h,l){if(l==200)Yb(d,e,function(){f.remove();document.location.hash="#/"});else if(l==409){f.remove();ed(this.f.a("form"),'<div class="error">That username is taken.</div>')}else f.remove()})}})};var ne=[["^/$",Yc],["^/login/$",le],["^/signup/$",me],["^/logout/$",ke],["^/plans/$",he],["^/plans/new/$",ie],["^/plans/([\\w]+)/$",je]];function oe(){this.ua=[];this.p=y();this.f=new R(document,this.p);this.f.a("body").append(Xc())}function pe(){function a(){var c=window.location.hash;c=c==""?"/":c.slice(1);a:{c=c;var d=void 0;d=d||ne;for(var e=0;e<d.length;e++){var f=(typeof d[e][0]=="string"?RegExp(d[e][0]):d[e][0]).exec(c);if(f!==j){f.shift();Lb.push(d[e][1],f);break a}}}}if(window.bc!=undefined)window.bc=a;else{var b;(function c(){if(b!=window.location.hash){b=window.location.hash;a()}setTimeout(c,100)})()}}
function qe(a){a.ua[a.ua.length-1].G(dd(a.f.a("#main"),"")[0])}oe.prototype.push=function(a,b){if(!(a instanceof Q)){b[b.length-1]instanceof ub||b.push(this.p);var c=function(){a.apply(this,b)};c.prototype=a.prototype;try{a=new c}catch(d){if(d=="403"){this.clear();document.location.hash="#/login/"}return}}this.ua.push(a);a.Yb!==i&&qe(this)};oe.prototype.pop=function(){this.ua.pop().l();qe(this)};oe.prototype.clear=function(){this.ua=[]};Mb(function(){Lb=new oe;pe(Lb)});
